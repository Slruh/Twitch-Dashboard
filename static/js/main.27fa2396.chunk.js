(this["webpackJsonptwitch-dashboard"]=this["webpackJsonptwitch-dashboard"]||[]).push([[0],{76:function(e,t,n){},77:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n(0),a=n.n(r),s=n(9),i=n.n(s),o=(n(76),n(35)),l=n(36),j=n(34),u=n(112),h=n(116),b=n(117),d=n(118),O=n(119),x=n(120),f=n(37),w=n(121),v=n(126),p=n(123),y=n(127),m=n(124),g=n(125),C=n(122),k=n(60),S=n.n(k),V=n(59),I=n.n(V),T=n(61),L=n(54),F=n.n(L),N=(n(77),{key:"moderators",display:"Moderators"}),R={key:"vips",display:"VIPs"},A={key:"viewers",display:"Viewers"},B=function(e,t){return e.localeCompare(t)};var J=function(){var e=Object(r.useState)("LindseyRooney"),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)("LindseyRooney"),i=Object(j.a)(s,2),k=i[0],V=i[1],L=Object(r.useState)(new Set),J=Object(j.a)(L,2),M=J[0],P=J[1],D=Object(r.useState)(!0),E=Object(j.a)(D,2),z=E[0],W=E[1],_=Object(T.a)(["chatters",n],(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).reduce((function(t,n){return(e[n]||[]).forEach((function(e){t.add(e)})),t}),new Set);P(t)}(q?q.chatters:{}),F()("https://tmi.twitch.tv/group/user/".concat(n.toLowerCase(),"/chatters")).then((function(e){return e.json()})).then((function(e){return console.log("JSON",e),e.data}))}),{enabled:n&&""!==n&&z,refetchInterval:2e4}),q=_.data,G=_.refetch,H=function(e,t){return Object(c.jsxs)(u.a,{children:[t&&Object(c.jsx)(h.a,{children:Object(c.jsx)(I.a,{})}),Object(c.jsx)(b.a,{primary:e})]},e)},K=function(e){var t=e.key,n=e.display;if(!q||!q.chatters)return null;var r=q.chatters[t]||[];if(0===r.length)return null;var a=r.reduce((function(e,t){return M.size>0&&!M.has(t)?Object(l.a)(Object(l.a)({},e),{},{newViewers:[].concat(Object(o.a)(e.newViewers),[t])}):Object(l.a)(Object(l.a)({},e),{},{currentViewers:[].concat(Object(o.a)(e.currentViewers),[t])})}),{newViewers:[],currentViewers:[]}),s=a.newViewers,i=a.currentViewers,j="viewers"===t&&i.length>100;if(0===s.length&&(0===i.length||j))return null;s.sort(B),i.sort(B);var u=s.map((function(e){return H(e,!0)})),h=j?[]:i.map((function(e){return H(e,!1)}));return[Object(c.jsx)(d.a,{style:{backgroundColor:"white"},children:n},n)].concat(Object(o.a)(u),Object(o.a)(h))},Q=q?q.chatter_count:"?";return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{className:"TwitchChannel",children:[Object(c.jsx)(O.a,{position:"static",children:Object(c.jsx)(x.a,{children:Object(c.jsx)(f.a,{variant:"h6",children:"Twitch Dashboard"})})}),Object(c.jsxs)(w.a,{container:!0,alignItems:"center",justify:"center",spacing:1,style:{marginTop:"10px",padding:"10px"},children:[Object(c.jsx)(w.a,{item:!0,xs:12,children:Object(c.jsx)(v.a,{fullWidth:!0,label:"Twitch Channel",onBlur:function(){a(k),P(new Set)},onChange:function(e){V(e.target.value)},value:k,variant:"outlined"})}),Object(c.jsx)(w.a,{item:!0,xs:8,children:Object(c.jsx)(p.a,{control:Object(c.jsx)(y.a,{checked:z,disabled:!n,onChange:function(){W(!z)},name:"autoRefresh",color:"primary"}),label:"Auto refresh enabled"})}),Object(c.jsx)(w.a,{item:!0,xs:4,style:{display:"flex",justifyContent:"flex-end"},children:Object(c.jsx)(m.a,{disabled:!n,onClick:G,variant:"contained",color:"default",startIcon:Object(c.jsx)(S.a,{}),children:"Refresh Now"})}),Object(c.jsx)(w.a,{item:!0,xs:12,children:Object(c.jsx)(g.a,{})}),Object(c.jsxs)(w.a,{item:!0,xs:12,children:[Object(c.jsxs)(f.a,{variant:"h6",children:["Channel Members (",Q,")"]}),Object(c.jsx)(f.a,{variant:"subtitle2",children:"If you have over 100 viewers, only new viewers will be shown. All new users will be shown."})]}),Object(c.jsx)(w.a,{item:!0,xs:12,children:Object(c.jsx)(g.a,{})}),Object(c.jsx)(w.a,{item:!0,xs:12,children:Object(c.jsxs)(C.a,{dense:!0,children:[K(A),K(R),K(N)]})})]})]})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),M()}},[[85,1,2]]]);
//# sourceMappingURL=main.27fa2396.chunk.js.map